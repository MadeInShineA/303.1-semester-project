---
title: "303.1 Semester Project Presentation"
resources:
  - "./assets/presentation/dMRI-signal-movie.mp4"
format:
  revealjs:
    theme: [default, ./presentation.scss]
    center: true
    transition: fade
    incremental: false
    slide-number: true
    preview-links: auto
    navigation-mode: grid
    auto-play-media: true
    footer: '<a href="./index.qmd" style="color: inherit; text-decoration: none;">Home</a> | <a href="./sources.qmd" style="color: inherit; text-decoration: none;">Sources</a> | 303.1 Semester Project Presentation © 2025'
bibliography: ./references.bib
---


# What is DWI ?
:::: {.columns}

::: {.column width="60%"}
MRI technique that measures the diffusion of water molecules in biological tissues.

- **Principle**: Uses magnetic field gradients to sensitize the MRI signal to water diffusion
- **Key parameters**: 
  - b-values
  - b-vectors
:::

::: {.column width="40%"}


::: {#fig-cern}

<video 
  src="./assets/presentation/dMRI-signal-movie.mp4" 
  loop muted playsinline height="300"
/>

Visual example of DWI, sourced from Dr. A. Rokem, DIPY workshop 2021

:::

:::

::::

# Why DWI ?
![[NDMG detailed pipeline](https://ndmg.neurodata.io/pipeline/diffusion){target="_blank"}](./assets/presentation/ndmg-d-detailed-pipeline.jpg){#fig-ndmg-pipeline}

# Project Goals

  - Contribute to [DIPY](https://dipy.org/){target="_blank"}
  - Add prediction capabilities to\
  the existing `GeneralizedQSamplingModel` class

# What has been done
  - Enable prediction for the `GeneralizedQSamplingModel`
  - Rigorous Testing
    - Unit tests (100% coverage)
    - Integration tests via different [Marimo](htts://marimo.io){target=_blank} notebooks
  - Automated code documentation via [Sphinx](https://www.sphinx-doc.org/en/master/){target="_blank"}
  - Created a [DIPY tutorial document](./assets/examples/reconst_gqi_predict.html) on the prediction pipeline
  - Project documentation (see [homepage](./index.qmd){target="_blank"})
  - Ongoing [pull request](https://github.com/oesteban/dipy/pull/1){target="_blank"} on Prof.Estban DIPY [fork](https://github.com/oesteban/dipy){target="_blank"}
    - Currently being reviewed by the DIPY's team

# DIPY GQI Model Pipeline


```{dot}
//| label: fig-gqi-model-pipeline
//| fig-cap: "DIPY GQI model simplified pipeline, made with GraphViz"
//| fig-height: 200px
digraph GQI {
    rankdir=LR;
    node [shape=box, style=rounded, fontsize=10];
    
    DWI [label="DWI"];
    Model [label="model = GQIModel(bvals, bvecs, ...)"];
    Fit [label="model.fit(data)"];
    ODF [label="ODF"];
    
    DWI -> Model -> Fit -> ODF;
}
```

:::: {.columns}

::: {.column width="45%"}

![GQI model input image example,<br>from the stanford_hardi dataset](./assets/presentation/reconst-data.png){#fig-test1 height=300px}

:::
::: {.column width="10%"}

<div style="display: flex; align-items: center; justify-content: center; height: 300px;">→</div>

:::

::: {.column width="45%"}

![GQI model output example (ODF),<br>from the stanford_hardi dataset](./assets/presentation/reconst-odf.png){#fig-test2 height=300px}

:::

::::

# What's the ODF ?

LOREM IPSUM

# How Is The Signal Predicted ?

$$
\begin{alignat*}{2}
          &ODF                      &&= S \cdot K \\
\iff\quad & ODF \cdot K^{+}          &&\approx S \cdot K \cdot K^{+} \\
\iff\quad & ODF \cdot K^{+}          &&\approx S \\
\iff\quad & S                        &&\approx ODF \cdot K^{+}
\end{alignat*}
$$


Where:

 - $S$ is the GQI model fitted signal
 - $K^{+}$ is a regularized pseudo-inverse of the GQI kernel $K$.


# Testing methodology

![Reconstruction pipeline schema, made with excalidraw](./assets/presentation/reconstructing_test_schema.svg){#fig-reconstruct-pipeline}

# Testing methodology

![Unseen data prediction pipeline, made with excalidraw](./assets/presentation/predict_pipeline_schemas.svg){#fig-unseen-pipeline}

# Single-Voxel Reconstruction Results
![Voxel (0, 0, 0) Signal Reconstruction: Original vs Predicted](./assets/images/single_voxel_roundtrip_plot.png){#fig-single-voxel-results}

# Multi-Voxel Reconstruction Results
![Voxel-wise Reconstruction Accuracy](./assets/images/multi_voxel_roundtrip_plot.png){#fig-multi-voxel-results}

# Unseen prediction results
![Unseen data prediction results](./assets/images/unseen_data_plot.png){#fig-unseen-results}


# Impact

  - Head motion noise reduction
  - Meaningful data augmentation
  - Model cross validation [see @Amitay2012[^1]]

[^1]: 
::: {#refs}
:::

# Conclusion

# Additional Resources

If you want more information please visit this project [website](./index.qmd){target="_blank"}

![Project website QR code](./assets/presentation/qrcode.png){#fig-qr}

