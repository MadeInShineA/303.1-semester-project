[
  {
    "objectID": "src/sources.html",
    "href": "src/sources.html",
    "title": "Sources",
    "section": "",
    "text": "DIPY website\nDIPY contributing guide\nDIPY developer guide\nDIPY coding style guideline\nTutorials\n\nReconstruct with Constant Solid Angle (Q-Ball)\nReconstruct with Generalized Q-Sampling Imaging\nIntroduction to Basic Tracking\nK-fold cross-validation for model comparison"
  },
  {
    "objectID": "src/sources.html#dipy",
    "href": "src/sources.html#dipy",
    "title": "Sources",
    "section": "",
    "text": "DIPY website\nDIPY contributing guide\nDIPY developer guide\nDIPY coding style guideline\nTutorials\n\nReconstruct with Constant Solid Angle (Q-Ball)\nReconstruct with Generalized Q-Sampling Imaging\nIntroduction to Basic Tracking\nK-fold cross-validation for model comparison"
  },
  {
    "objectID": "src/sources.html#youtube-videos",
    "href": "src/sources.html#youtube-videos",
    "title": "Sources",
    "section": "Youtube videos",
    "text": "Youtube videos\n\nDiffusion Weighted Imaging - Doctor Klioze\nDiffusion Tensor Imaging (DTI) - Doctor Klioze\nDiffusion Tensor Imaging (DTI) Explained! | Neuroscience Methods 101 - Psyched!\nDWI vs ADC MRI sequences: EXPLAINED - Radiology Tutorials\nDiffusion Weighted Imaging EXPLAINED (DWI Trace, ADC, B-Values) | MRI Physics Course Lecture 14 - MRI Physics EXPLAINED\nHow to Read MRI Diffusion Imaging (DWI) like a Real Radiologist - MRI Physics EXPLAINED\nA tour of spherical harmonics-based local reconstruction techniques in DIPY - Part1 - Diffusion Imaging in Python - DIPY\nA tour of spherical harmonics-based local reconstruction techniques in DIPY - Part2 - Diffusion Imaging in Python - DIPY"
  },
  {
    "objectID": "src/sources.html#assistants",
    "href": "src/sources.html#assistants",
    "title": "Sources",
    "section": "Assistants",
    "text": "Assistants\n\nQwen3 Max\nGrok Code Fast 1"
  },
  {
    "objectID": "src/sources.html#other",
    "href": "src/sources.html#other",
    "title": "Sources",
    "section": "Other",
    "text": "Other\n\nNipreps book\nProf. Esteban DIPY pull request\nProf. Esteban DIPY fork\nMarimo website\nQuarto website\nGraphviz website"
  },
  {
    "objectID": "src/index.html",
    "href": "src/index.html",
    "title": "303.1 Semester Project:Extending DIPY’s Generalized Q-ball Imaging model to make predictions",
    "section": "",
    "text": "This project is part of the 303.1 semester project course.\nThe goal is to contribute to the DIPY framework by extending the Generalized Q-ball Imaging (GQI) model with predictive capabilities.\nThe key objectives are:\n\nImplementing a predict() function to the GeneralizedQSamplingFit class\nThoroughly documenting the new code\nProviding comprehensive and meaningful tests\nGetting the prediction pull request accepted by DIPY"
  },
  {
    "objectID": "src/index.html#project-overview",
    "href": "src/index.html#project-overview",
    "title": "303.1 Semester Project:Extending DIPY’s Generalized Q-ball Imaging model to make predictions",
    "section": "",
    "text": "This project is part of the 303.1 semester project course.\nThe goal is to contribute to the DIPY framework by extending the Generalized Q-ball Imaging (GQI) model with predictive capabilities.\nThe key objectives are:\n\nImplementing a predict() function to the GeneralizedQSamplingFit class\nThoroughly documenting the new code\nProviding comprehensive and meaningful tests\nGetting the prediction pull request accepted by DIPY"
  },
  {
    "objectID": "src/index.html#project-gantt-diagram",
    "href": "src/index.html#project-gantt-diagram",
    "title": "303.1 Semester Project:Extending DIPY’s Generalized Q-ball Imaging model to make predictions",
    "section": "Project Gantt Diagram",
    "text": "Project Gantt Diagram\n\n\n\n\n\n\ngantt\n\n    title Semester Project Gantt Diagram\n    dateFormat DD.MM.YYYY\n    axisFormat %d.%m\n\n    section Background\n        Literature review (DWI, GQI, MRI)       :done,         research,       24.11.2025, 2d\n        Study Nipreps book (DWI preprocessing)  :done,         nipreps,        24.11.2025, 3d\n\n    section Development\n        Dev environment setup                   :done,         devenv,         25.11.2025, 1d\n        Study GQI codebase                      :done,         codebase,       25.11.2025, 3d\n        Create baseline prediction tests        :done,         simple_tests,   26.11.2025, 2d\n        Develop Marimo validation notebooks     :done,         notebooks,      26.11.2025, 2d\n        Implement roundtrip voxel prediction test :done,       cross_tests,    01.12.2025, 2d\n        Create unseen data prediction notebook  :done,         unseen_data,    03.12.2025, 4d\n        Add the GQI predict example to dipy doc :done,         predict_example,04.12.2025, 11.12.2025\n        Create prediction_kernel tests          :done,         prediction_kernel ,07.12.2025, 2d\n        Double check the existing tests         :done,         dc_test,          09.12.2025, 1d\n        Double check the existing notebooks     :done,         dc_notebooks,   09.12.2025, 1d\n        Coordinate with DIPY experts            :done,         coor,           10.12.2025, 12.12.2025\n        Fine tune the code for the DIPY PR based on feedback      :active,        prpr,           12.12.2025, 16.12.2025\n        \n\n      \n        \n\n    section Milestones & &lt;br&gt;Deliverables\n        Prof. Esteban – Kickoff meeting         :done,         milestone,      25.11.2025, 0d\n        Prof. Esteban – Progress check-in       :done,         milestone,      27.11.2025, 0d\n        Create Gantt diagram                    :done,         gantt,          28.11.2025, 1d\n        Design impact slide                     :done,         impact,         28.11.2025, 1d\n        Draft report outline                    :done,         r_draft,        01.12.2025, 1d\n        Prof. Esteban - Second progress check-in:done,         milestone,      03.12.2025, 0d\n        Create presentation dwi slide           :done,         p_draft,        06.12.2025, 09.12.2025 \n        Prof. Esteban - Third progress check-in :done,         milestone,      09.12.2025, 0d\n        PR on Prof. Esteban repository          :done,         milestone,      10.12.2025, 0d\n        PR on DIPY repository                   :done,         milestone,      11.12.2025, 0d\n        Finish report                           :active,       f_rep,          11.12.2025, 16.12.2025\n        Finish presentation                     :active,       f_pres,         11.12.2025, 18.12.2025\n        Code and documentation handout          :crit,         milestone,      16.12.2025, 0d\n        Final presentation                      :crit,         milestone,      18.12.2025, 0d"
  },
  {
    "objectID": "src/index.html#documents",
    "href": "src/index.html#documents",
    "title": "303.1 Semester Project:Extending DIPY’s Generalized Q-ball Imaging model to make predictions",
    "section": "Documents",
    "text": "Documents\n\nReport: Detailed technical documentation and results\nPresentation: Slide deck summarizing the project\nDaily Journal: Development log and progress updates\nSources: Bibliography and references"
  },
  {
    "objectID": "src/report.html",
    "href": "src/report.html",
    "title": "Implementation Report: Predict Function",
    "section": "",
    "text": "This report provides an overview of the proposed predict function’s implementation in DIPY’s Generalized Q-Sampling Imaging (GQI) model, including the newly implemented prediction_kernel helper function and the pre-existing gqi_kernel function. It covers their purpose, operational mechanics, mathematical foundations, testing methodology, and obtained results."
  },
  {
    "objectID": "src/report.html#introduction",
    "href": "src/report.html#introduction",
    "title": "Implementation Report: Predict Function",
    "section": "",
    "text": "This report provides an overview of the proposed predict function’s implementation in DIPY’s Generalized Q-Sampling Imaging (GQI) model, including the newly implemented prediction_kernel helper function and the pre-existing gqi_kernel function. It covers their purpose, operational mechanics, mathematical foundations, testing methodology, and obtained results."
  },
  {
    "objectID": "src/report.html#the-different-needed-helper-functions",
    "href": "src/report.html#the-different-needed-helper-functions",
    "title": "Implementation Report: Predict Function",
    "section": "2 The different needed helper functions",
    "text": "2 The different needed helper functions\nThe predict function implementation relies on two key helper functions:\n\ngqi_kernel (pre-existing) for kernel computation\nprediction_kernel (newly implemented) for pseudo-inverse calculation.\n\nIn this section, each function is described in detail, including its purpose, parameters, and role in signal reconstruction from ODFs.\n\n2.1 The gqi_kernel function\nThe gqi_kernel function calculates the Generalized Q-Sampling Imaging (GQI) transformation kernel, which is essential for modeling diffusion signals in terms of orientation distribution functions (ODFs). This kernel transforms gradient directions and b-values into a matrix that relates diffusion signals to ODFs on a spherical grid.\n\nPurpose: Computes the kernel matrix for GQI-based signal reconstruction. It handles different GQI methods (e.g., “standard” or “gqi2”) and incorporates physical constants like the free water diffusion coefficient.\nKey Parameters:\n\ngtab: GradientTable containing b-values and b-vectors.\nparam_lambda: Regularization parameter for the kernel.\nsphere: Spherical grid for ODF sampling.\nmethod: Specifies the GQI variant (“standard” by default).\n\nOperation: Scales b-vectors by a diffusion-related factor, computes dot products with sphere vertices, and applies sinc or squared radial functions to generate the kernel.\n\ndef gqi_kernel(gtab, param_lambda, sphere, method=\"standard\"):\n    # 0.01506 = 6*D where D is the free water diffusion coefficient\n    # l_values sqrt(6 D tau) D free water diffusion coefficient and\n    # tau included in the b-value\n    scaling = np.sqrt(gtab.bvals * 0.01506)\n    b_vector = gtab.bvecs * scaling[:, None]\n\n    if method == \"gqi2\":\n        H = squared_radial_component\n        return np.real(H(np.dot(b_vector, sphere.vertices.T) * param_lambda))\n    elif method != \"standard\":\n        warnings.warn(\n            f'GQI model \"{method}\" unknown, falling back to \"standard\".',\n            stacklevel=1,\n        )\n    return np.real(np.sinc(np.dot(b_vector, sphere.vertices.T) * param_lambda / np.pi))\nMathematically, the GQI kernel \\(K\\) is computed as:\nFor the “standard” method: \\[\nK_{ij} = \\frac{\\sin\\left( \\lambda (\\mathbf{q}_i \\cdot \\mathbf{v}_j) \\right)}{\\lambda (\\mathbf{q}_i \\cdot \\mathbf{v}_j)} = \\operatorname{sinc}\\left( \\frac{\\lambda (\\mathbf{q}_i \\cdot \\mathbf{v}_j)}{\\pi} \\right)\n\\] Where:\n\n\\(\\mathbf{q}_i = \\mathbf{g}_i \\sqrt{b_i \\cdot 0.01506}\\) (scaled gradient)\n\\(\\mathbf{v}_j\\) are sphere vertices\n\\(\\lambda\\) is the regularization parameter\n\\(\\operatorname{sinc}(x) = \\frac{\\sin(\\pi x)}{\\pi x}\\) is the NumPy’s normalized sinc function.\n\nFor the “gqi2” method: \\[\nK_{ij} = \\operatorname{Re}\\left[ H\\left( \\lambda (\\mathbf{q}_i \\cdot \\mathbf{v}_j) \\right) \\right]\n\\] Where \\(H\\) is the squared radial component function.\n\n\n2.2 The prediction_kernel function\nThe prediction_kernel function computes the Tikhonov-regularized Moore-Penrose pseudo-inverse of the GQI kernel, enabling signal reconstruction from orientation distribution functions (ODFs) in the DIPY convention.\n\nPurpose: Generates the Tikhonov-regularized pseudo-inverse kernel for solving S from \\(ODF = S \\cdot K\\), using regularization for numerical stability.\nKey Parameters:\n\ngtab: GradientTable for the prediction.\nparam_lambda: gqi_kernel regularization parameter.\nsphere: Spherical grid.\nmethod: GQI method.\n\nOperation: Computes the GQI kernel K, forms K @ K.T, adds regularization, inverts the matrix, and multiplies by K.T to produce the Moore-Penrose pseudo-inverse kernel.\n\ndef prediction_kernel(gtab, param_lambda, sphere, method=\"standard\"):\n    # K.shape = (n_gradients, n_vertices)\n    K = gqi_kernel(gtab, param_lambda, sphere, method=method)\n\n    # GTG.shape = (n_gradients, n_gradients)\n    GtG = K @ K.T\n    identity = np.eye(GtG.shape[0])\n\n    # K_plus.shape = (n_vertices, n_gradients)\n    return K.T @ np.linalg.inv(GtG + INVERSE_LAMBDA * identity)\nMathematically, the prediction kernel \\(K^{+}\\) (the pseudo-inverse) is computed as: \\[\nK^{+} = K^T (K K^T + \\lambda I)^{-1}\n\\] Where:\n\n\\(K\\) is the GQI kernel from gqi_kernel\n\\(\\lambda\\) is the regularization parameter (INVERSE_LAMBDA)\n\\(I\\) is the identity matrix.\n\nThe Tikhonov regularization term (\\(\\lambda I\\)) is added to improve numerical stability and prevent overfitting. The plain Moore-Penrose pseudo-inverse, computed as \\(K^T (K K^T)^{-1}\\), can be unstable for ill-conditioned matrices, amplifying noise in the diffusion signals. Regularization provides a smoother, more robust solution by balancing fidelity to the data with stability."
  },
  {
    "objectID": "src/report.html#the-predict-function-and-its-implementation",
    "href": "src/report.html#the-predict-function-and-its-implementation",
    "title": "Implementation Report: Predict Function",
    "section": "3 The predict function and it’s implementation",
    "text": "3 The predict function and it’s implementation\nThe target predicted signal is given by the following relationship \\[\n   \\begin{alignat*}{2}\n             &ODF                      &&= S \\cdot K \\\\\n  \\iff\\quad & ODF \\cdot K^{+}          &&\\approx S \\cdot K \\cdot K^{+} \\\\\n  \\iff\\quad & ODF \\cdot K^{+}          &&\\approx S \\\\\n  \\iff\\quad & S                        &&\\approx ODF \\cdot K^{+}\n  \\end{alignat*}\n  \\]\nWhere \\(K^{+}\\) is the Tikhonov-regularised Moore-Penrose pseudo-inverse of the GQI kernel \\(K\\).\nNote that the pseudo-inverse is needed since the GQI kernel \\(K\\)’s dimensions are \\((n_\\mathrm{gradients}, n_\\mathrm{vertices})\\), which means it’s (most of the time) not a square matrix and therefore not having a true inverse.\nThe predict function reconstructs diffusion signals from the fitted signal data by first computing the ODF internally and then applying the pseudo-inverse kernel.\n\nPurpose: Predicts diffusion-weighted signals from fitted data, supporting both single-voxel and multi-voxel data.\nKey Parameters:\n\ngtab: GradientTable for which to predict signals.\nS0: Optional baseline signal (not used in this implementation).\n\nOperation: Fuses the model kernel and prediction kernel to avoid explicit \\(ODF\\) computation: combined_kernel = \\(K_\\mathrm{model}^T \\cdot K^+\\), then predicted = data @ combined_kernel. Handles data reshaping for matrix operations and ensures non-negative outputs by clamping values.\n\ndef predict(self, gtab, *, S0=None):\n    # K_plus.shape = (n_vertices, n_gradients)\n    K_plus = prediction_kernel(\n        gtab,\n        self.model.Lambda,\n        self.model.sphere,\n        self.model.method,\n    )\n\n    # Fuse kernel and prediction kernel to avoid explicit ODF computation:\n    # combined_kernel.shape = (n_gradients_original, n_gradients)\n    combined_kernel = self.model.kernel.T @ K_plus\n\n    # Handle both 1D (single voxel) and multi-dimensional data\n    if self.data.ndim == 1:\n        # Single voxel: data = (self.model.n_gradients,)\n\n        # predicted.shape = (n_gradients, )\n        predicted = self.data @ combined_kernel\n    else:\n        # Multi-voxel: data = (..., self.model.n_gradients)\n        original_shape = self.data.shape\n        data_2d = self.data.reshape(-1, original_shape[-1])\n\n        # predicted_2d.shape = (n_voxels, n_gradients)\n        predicted_2d = data_2d @ combined_kernel\n\n        # predicted.shape = (..., n_gradients)\n        predicted = predicted_2d.reshape(\n            original_shape[:-1] + (combined_kernel.shape[1],)\n        )\n\n    # Clamp to non-negative values\n    return np.maximum(predicted, 0)\nMathematically, the predicted signal \\(\\mathbf{S}_\\mathrm{pred}\\) is computed as: \\[\n\\mathbf{S}_\\mathrm{pred} = \\max(0, \\mathrm{ODF} \\cdot K^{+})\n\\] Where:\n\n\\(\\mathrm{ODF} = K_\\mathrm{model} \\cdot \\mathbf{S}_\\mathrm{data}\\) is the ODF computed from the fitted signal data\n\\(K^{+}\\) is the pseudo-inverse kernel from prediction_kernel\n\nEquivalently, this can be computed directly as \\(\\mathbf{S}_\\mathrm{pred} = \\max(0, \\mathbf{S}_\\mathrm{data} \\cdot (K_\\mathrm{model}^T \\cdot K^{+}))\\) to avoid intermediate ODF calculation for efficiency.\nThe max operation ensures non-negative signal values."
  },
  {
    "objectID": "src/report.html#testing-methodology",
    "href": "src/report.html#testing-methodology",
    "title": "Implementation Report: Predict Function",
    "section": "4 Testing Methodology",
    "text": "4 Testing Methodology\nThe testing methodology for the GQI prediction functions encompasses unit tests for individual components and integration tests for end-to-end prediction workflows.\nThis tests validate:\n\nmathematical correctness\nnumerical stability\npractical usability across single and multi-voxel scenarios.\n\nAll tests utilize DIPY’s test data (dsi_voxels) and synthetic phantoms to ensure robustness.\n\n4.1 prediction_kernel function tests\nThe prediction_kernel function is tested for its role as a Tikhonov-regularized Moore-Penrose pseudo-inverse of the GQI kernel. Key validations include:\n\nShape and finiteness: Ensures the kernel has correct dimensions \\((n_\\mathrm{vertices}, n_\\mathrm{gradients})\\) and contains only finite, non-zero values.\nPseudo-inverse properties: Verifies that \\(K K^+ K \\approx K\\) (regularized reconstruction), and that \\(K K^+\\) and \\(K^+ K\\) are symmetric matrices.\nMethod compatibility: Tests both standard and gqi2 GQI methods using the symmetric724 sphere and DSI gradient table.\n\nThese tests confirm the kernel’s mathematical integrity and numerical stability for signal reconstruction.\n\n\n4.2 Basic API predict function tests\nBasic prediction tests validate the predict function’s API and output characteristics for both single-voxel and multi-voxel data:\n\nSingle-voxel test: Fit the model to individual voxels from DSI data, predict signals, and check that outputs are non-negative arrays matching the gradient table length. It also includes predictions on subsets of gradients.\nMulti-voxel test: Fit the model to entire 3D volumes, predict signals, and verify shape preservation and non-negativity. Subset gradient predictions are also tested.\nMethod coverage: Both standard and gqi2 methods are tested to ensure consistent behavior.\n\nThese tests ensure the prediction function handles various data shapes and gradient configurations correctly.\n\n\n4.3 Round trip predict function tests\nRound-trip tests assess the fidelity of signal reconstruction by fitting the model to training data (excluding b0 volumes) and predicting back to the same gradient table.\nThese tests are performed exclusively on the standard GQI model. Correlation between original and predicted signals serves as a quality metric.\n\nSingle-voxel round-trip: For selected voxels, compute Pearson correlation between original and predicted signals. Assert correlations exceed \\(r &gt; 0.8\\) and signal magnitudes remain in the same order of magnitude.\nMulti-voxel round-trip: Compute average correlation across all voxels in the volume, requiring \\(\\bar{r} &gt; 0.8\\). Identify and reject any voxels with \\(r \\leq 0.8\\).\n\nThese tests quantify reconstruction accuracy and detect overfitting or numerical instabilities."
  },
  {
    "objectID": "src/report.html#capabilities-and-applications",
    "href": "src/report.html#capabilities-and-applications",
    "title": "Implementation Report: Predict Function",
    "section": "5 Capabilities and Applications",
    "text": "5 Capabilities and Applications"
  },
  {
    "objectID": "src/report.html#future-directions",
    "href": "src/report.html#future-directions",
    "title": "Implementation Report: Predict Function",
    "section": "6 Future Directions",
    "text": "6 Future Directions"
  },
  {
    "objectID": "src/report.html#conclusion",
    "href": "src/report.html#conclusion",
    "title": "Implementation Report: Predict Function",
    "section": "6 Conclusion",
    "text": "6 Conclusion"
  },
  {
    "objectID": "src/report.html#resources",
    "href": "src/report.html#resources",
    "title": "Implementation Report: Predict Function",
    "section": "7 Resources",
    "text": "7 Resources\n\n7.1 DIPY tutorial repository notebooks\n\nReconstruct with Constant Solid Angle (Q-Ball)\nReconstruct with Generalized Q-Sampling Imaging\nIntroduction to Basic Tracking\n\n\n\n7.2 DIPY repository notebooks\n\nGQI Roundtrip\nGQI Unseen Data\n\n\n\n7.3 DIPY examples\n\nPredict unseen data with Generalized Q-Sampling Imaging"
  },
  {
    "objectID": "src/daily_journal.html",
    "href": "src/daily_journal.html",
    "title": "Daily Journal",
    "section": "",
    "text": "Made a pull request to the Nipreps book repo\nRealised the different DIPY tutorials\nStarted reading the Nipreps book"
  },
  {
    "objectID": "src/daily_journal.html#section",
    "href": "src/daily_journal.html#section",
    "title": "Daily Journal",
    "section": "",
    "text": "Made a pull request to the Nipreps book repo\nRealised the different DIPY tutorials\nStarted reading the Nipreps book"
  },
  {
    "objectID": "src/daily_journal.html#section-1",
    "href": "src/daily_journal.html#section-1",
    "title": "Daily Journal",
    "section": "25.11.2025",
    "text": "25.11.2025\n\nMeeting with Prof. Esteban\nPrepared the DIPY development environment\n\nInstallation steps\n\nCreate a venv and source it (or use uv venv and uv pip …)\nTo build the project\n\nsudo dnf install python3-devel\npip install -r requirements/build.txt\npip install –no-build-isolation -e .\n\nTo build the documentation\n\npip install sphinx\npip install sphinx_gallery\npip install numpydoc\npip install sphinxcontrib-bibtex\npip install sphinx-design\npip install grg-sphinx-theme\n\nTo use the correct formatting\n\npip install –no-build-isolation -e .[style]\npip install pre-commit\npre-commit install\n\n\n\nStarted to look at the current gqi predict code and pull request\nContinued reading the Nipreps book (tried to fix a latex rendering error unsuccessfully)"
  },
  {
    "objectID": "src/daily_journal.html#section-2",
    "href": "src/daily_journal.html#section-2",
    "title": "Daily Journal",
    "section": "26.11.2025",
    "text": "26.11.2025\n\nFinished reading the Nipreps book\nContinued to look at the current gqi code and made small changes on the enh/gqi-predict-dev branch\n\nChanged GeneralizedQSamplingFit odf function to take a sphere parameter (see commit)\nChanged the GeneralizedQSamplingFit predict function to use clamping to remove negative value predictions (see commit)\n\nCreated a small marimo notebook to test and understand the prediction function on the enh/gqi-predict-notebooks branch (see commit)"
  },
  {
    "objectID": "src/daily_journal.html#section-3",
    "href": "src/daily_journal.html#section-3",
    "title": "Daily Journal",
    "section": "27.11.2025",
    "text": "27.11.2025\n\nChanged the GeneralizedQSamplingFit predict function to use the model mode when calling the predict_kernel function. Also made the predict function work for multi-voxels (see commit)\nStarted gqi predict tests with (see commit)\n\nSingle-voxel basic test\nSingle-voxel meaningful test\nMulti-voxel basic test\nMulti-voxel meaningful test\n\nMeeting with Prof. Esteban\nDid 2 marimo notebooks on the enh/gqi-predict-notebooks branch (see commit)\n\nA notebook regarding the roundtrip predictions on already seen data (see notebook)\nA notebook regarding cross voxel predictions (see notebook)\n\nCreated the 303.1-semester-project github page (see page)"
  },
  {
    "objectID": "src/daily_journal.html#section-4",
    "href": "src/daily_journal.html#section-4",
    "title": "Daily Journal",
    "section": "28.11.2025",
    "text": "28.11.2025\n\nCreated the Gantt diagram\nCreated the presentation github repository(now removed)\nStarted the presentation\nPublished the presentation github page (see page)"
  },
  {
    "objectID": "src/daily_journal.html#section-5",
    "href": "src/daily_journal.html#section-5",
    "title": "Daily Journal",
    "section": "01.12.2025",
    "text": "01.12.2025\n\nStarted working on the cross validation prediction test\nWorked on the project documentation (see documentation)\n\nAdded a quarto theme\nAdded sources + daily diary pages\nAdded mermaid Gantt diagram\nWorked on the report structure (see report)"
  },
  {
    "objectID": "src/daily_journal.html#section-6",
    "href": "src/daily_journal.html#section-6",
    "title": "Daily Journal",
    "section": "02.12.2025",
    "text": "02.12.2025\n\nAdded unseen data prediction tests + Cleaned gqi predict functions and existing tests (see commit)\nRefactored the gqi predict and prediction_kernel functions to work according to DIPY’s ODF formula:\n\\(ODF = S \\cdot K\\) (see commit)\nWrote the The different needed helper functions and The predict function and it’s implementation sections in the report (see commit)"
  },
  {
    "objectID": "src/daily_journal.html#section-7",
    "href": "src/daily_journal.html#section-7",
    "title": "Daily Journal",
    "section": "03.12.2025",
    "text": "03.12.2025\n\nMeeting with Prof. Esteban\nStarted working on the unseen data prediction notebook (see commit)"
  },
  {
    "objectID": "src/daily_journal.html#section-8",
    "href": "src/daily_journal.html#section-8",
    "title": "Daily Journal",
    "section": "04.12.2025",
    "text": "04.12.2025\n\nContinued working on the unseen data prediction notebook (see commit and notebook)\nBegan the DIPY prediction documentation example (see commit)\nRevised predict function according to DIPY conventions (not pushed yet)"
  },
  {
    "objectID": "src/daily_journal.html#section-9",
    "href": "src/daily_journal.html#section-9",
    "title": "Daily Journal",
    "section": "06.12.2025",
    "text": "06.12.2025\n\nAdded brain mask + interceptor + b0 volumes separation to gqi_unseen_data_notebook (see commit and notebook)\nCommented the shapes of the GeneralizedQSamplingFit predict and prediction_kernel functions (see commit)\nOptimized the predict multi voxel case a bit (see commit)\nUpdated the report"
  },
  {
    "objectID": "src/daily_journal.html#section-10",
    "href": "src/daily_journal.html#section-10",
    "title": "Daily Journal",
    "section": "07.12.2025",
    "text": "07.12.2025\n\nOptimized GeneralizedQSamplingFit prediction_kernel function + Added prediction_kernel test which tests: (see commit)\n\nCorrect output shape\nK @ K_plus @ K ≈ K\nK @ K_plus is symmetric\nK_plus @ K is symmetric\n\nMade GeneralizedQSamplingFit predict function faster by fusing kernels therefore avoiding the explicit ODF calculation (see commit)"
  },
  {
    "objectID": "src/daily_journal.html#section-11",
    "href": "src/daily_journal.html#section-11",
    "title": "Daily Journal",
    "section": "08.12.2025",
    "text": "08.12.2025\n\nContinued the DIPY prediction documentation example (see commit)"
  },
  {
    "objectID": "src/daily_journal.html#section-12",
    "href": "src/daily_journal.html#section-12",
    "title": "Daily Journal",
    "section": "09.12.2025",
    "text": "09.12.2025\n\nMeeting with Prof. Esteban\nRemoved the gqi2 method and b0 volumes from the prediction tests (see commit)\nRemoved gqi_cross_voxel_notebook + Removed b0 values from train set in gqi_roundtrip_notebook + Cleaned gqi_unseen_data_notebook (see commit)"
  },
  {
    "objectID": "src/daily_journal.html#section-13",
    "href": "src/daily_journal.html#section-13",
    "title": "Daily Journal",
    "section": "10.12.2025",
    "text": "10.12.2025\n\nCleaned the gqi_unseen_data_notebook (see commit)\nContinued the DIPY prediction documentation example (see commit, see example)"
  },
  {
    "objectID": "src/daily_journal.html#section-14",
    "href": "src/daily_journal.html#section-14",
    "title": "Daily Journal",
    "section": "11.12.2025",
    "text": "11.12.2025\n\nUpdated README + Worked on the presentation (see commit)"
  },
  {
    "objectID": "src/daily_journal.html#section-15",
    "href": "src/daily_journal.html#section-15",
    "title": "Daily Journal",
    "section": "12.12.2025",
    "text": "12.12.2025\n\nApplied the changes requested by the DIPY team on the Prof. Esteban repository PR (see related gqi and test_gqi commit, related gqi_predict example commit and example)"
  },
  {
    "objectID": "src/daily_journal.html#section-16",
    "href": "src/daily_journal.html#section-16",
    "title": "Daily Journal",
    "section": "13.12.2025",
    "text": "13.12.2025\n\nCleaned the GeneralizedQSamplingFit predict roundtrip tests (see commit)\nBegan the Testing Methodology and Obtained Results sections of the report (see report)\nImproved marimo notebooks plot titles (see gqi roundtrip notebook, gqi unseen data notebook and commit)"
  },
  {
    "objectID": "src/report.html#obtained-results",
    "href": "src/report.html#obtained-results",
    "title": "Implementation Report: Predict Function",
    "section": "5 Obtained Results",
    "text": "5 Obtained Results\nThe implementation was validated through comprehensive testing using real DSI data from the DIPY library. The results demonstrate high accuracy in signal reconstruction for the “standard” GQI method, as quantified by voxel-wise correlation metrics and visual comparisons against ground truth data. Key findings are detailed below, referencing the provided visualizations.\n\n5.1 Single-Voxel Reconstruction Results\n\n\n\n\n\n\nFigure 1: Voxel (0, 0, 0) Signal Reconstruction: Original vs. Predicted\n\n\n\nThe plots in Figure 1 provide a detailed analysis for a single representative voxel.\n\nStrong Linear Relationship: The scatter plot on the left shows a strong positive linear relationship between the original and predicted signals, with a Pearson correlation coefficient of r = 0.9744. The fitted line (y = 0.87x + 13.65) closely tracks the identity line (dashed black), indicating minimal bias in the prediction.\nSignal Profile Fidelity: The line plot on the right compares the signal intensity profiles across all gradient directions. The predicted signal (blue dots) closely follows the original signal (black line), particularly for lower gradient indices. The residual plot (gray dots) shows small deviations, with an MAE of 12.7544, which is acceptable given the signal range (~0-300).\n\n\n\n5.2 Multi-Voxel Reconstruction Results\n\n\n\n\n\n\nFigure 2: Voxel-wise Signal Reconstruction Accuracy\n\n\n\nThe histogram presented in Figure 2 shows the distribution of Pearson correlation coefficients between original and predicted signals across all voxels for the “Standard GQI” model.\n\nHigh Overall Fidelity: The distribution is sharply peaked near perfect correlation (r=1.0), indicating the model successfully reconstructs the training data.\nQuantitative Metrics: The mean voxel-wise correlation is 0.9800, and the overall correlation across the entire volume is 0.9749, both significantly exceeding the target threshold of r &gt; 0.8. The Mean Absolute Error (MAE) of 7.1714 further confirms low prediction error relative to the signal intensity scale.\nSpatial Consistency: The accompanying correlation map (right panel) shows a uniformly high correlation (yellow/green tones) across the slice, confirming that the model’s performance is spatially consistent and not localized to specific regions. This validates the numerical stability and robustness of the predict function for multi-voxel data.\n\n\n\n5.3 Prediction on Unseen Data\n\n\n\n\n\n\nFigure 3: Real vs Predicted Signal and Local Correlation: Test Volume 0, Z Slice 30\n\n\n\nThe visualization in Figure 3 evaluates the model’s ability to generalize to unseen gradient configurations.\n\nVisual Agreement: A side-by-side comparison of the Real data and STANDARD prediction for a specific b-value and b-vector shows a strong qualitative match. The predicted image successfully captures the anatomical structure and intensity variations present in the real data, including bright white matter tracts.\nLocal Correlation Validation: The Local Pearson Correlation map, computed over a 9x9 window, quantifies this agreement. The map displays predominantly red and orange regions (correlation &gt; 0.5), indicating good local correspondence between the real and predicted signals. While some areas show lower correlation (blue/purple), these are likely associated with complex fiber crossings or noise, which is expected in diffusion MRI. This demonstrates the model’s capability to predict signals for new, unseen gradients beyond the training set.\n\nThese results collectively confirm that the implemented predict function is mathematically sound, numerically stable, and practically effective for both reconstructing training data and generalizing to new gradient directions. The high correlation values and visual fidelity validate the correctness of the Tikhonov-regularized pseudo-inverse approach used in the prediction_kernel function."
  },
  {
    "objectID": "src/report.html#this-report-provides-an-overview-of-the-predict-function-implementation-in-dipys-generalized-q-sampling-imaging-gqi-model-including-the-newly-implemented-prediction_kernel-helper-function-and-the-pre-existing-gqi_kernel-function.-it-covers-their-purpose-operational-mechanics-mathematical-foundations-testing-methodology-and-obtained-results.",
    "href": "src/report.html#this-report-provides-an-overview-of-the-predict-function-implementation-in-dipys-generalized-q-sampling-imaging-gqi-model-including-the-newly-implemented-prediction_kernel-helper-function-and-the-pre-existing-gqi_kernel-function.-it-covers-their-purpose-operational-mechanics-mathematical-foundations-testing-methodology-and-obtained-results.",
    "title": "Implementation Report: Predict Function",
    "section": "2 This report provides an overview of the predict function implementation in DIPY’s Generalized Q-Sampling Imaging (GQI) model, including the newly implemented prediction_kernel helper function and the pre-existing gqi_kernel function. It covers their purpose, operational mechanics, mathematical foundations, testing methodology, and obtained results.",
    "text": "2 This report provides an overview of the predict function implementation in DIPY’s Generalized Q-Sampling Imaging (GQI) model, including the newly implemented prediction_kernel helper function and the pre-existing gqi_kernel function. It covers their purpose, operational mechanics, mathematical foundations, testing methodology, and obtained results."
  }
]